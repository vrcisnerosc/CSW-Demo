@model CSW.BookLibrary.Site.ViewModels.HomeViewModel

@{
    ViewBag.Title = "Index";
}

<div class="page-header ">
    <h3>Find your favorite books by Author</h3>
</div>
<div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
        Authors
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
        @if (ViewBag.Authors != null && ViewBag.Authors.Count > 0)
        {
            foreach (var item in ViewBag.Authors)
            {
                <li>@Html.ActionLink((string)item.Text, "Books", "Home", new { area = "", authorId = item.Value }, new { })</li>
            }
        }
    </ul>
</div>
<br />
<div class="row">
    <div class="col-lg-12">
        <table border="1" cellpadding="10" style="width:100%">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Author</th>
                    <th>Category</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.Books == null || Model.Books.Count == 0)
                {
                    <tr>
                        <td colspan="3">
                            There are no books to show for this author.
                        </td>
                    </tr>
                }
                else
                {
                    foreach (var item in Model.Books)
                    {
                        <tr>
                            <td>@item.Name</td>
                            <td>@item.AuthorName</td>
                            <td>@item.CategoryName</td>

                        </tr>
                    }
                }
            </tbody>
        </table>

    </div>
</div>
